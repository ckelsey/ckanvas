{"version":3,"sources":["scripts/ckanvas-directive.js"],"names":["cKanvas","directive","$compile","restrict","scope","paths","transformControls","miniMap","zoom","offsetX","offsetY","center","responsive","link","elm","attrs","canvas","zoomMinusButton","setTransform","className","indexOf","split","join","transform","transformOriginX","transformOriginY","width","height","transformOrigin","style","webkitTransform","webkitTransformOrigin","mousedoneHandler","e","target","document","body","removeEventListener","mousemoveHandler","initMovePositionX","initMovePositionY","mouseCanvasX","pageX","getBoundingClientRect","left","mouseCanvasY","pageY","top","mousedownHandler","addEventListener","doPath","index","ctx","pathsToDraw","p","properties","beginPath","moveTo","vertices","i","length","x","y","lineTo","closePath","fillStyle","fill","strokeStyle","stroke","getMinMx","X","Y","verts","normalizeVertices","scaleRatio","getVertices","minmax","create","querySelector","html","undefined","contents","querySelectorAll","offsetWidth","offsetHeight","getContext","devicePixelRatio","window","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","pixelRatio","scale","oldWidth","oldHeight","angular","copy","$watch","n","o","elWidth","elHeight","setInterval","module"],"mappings":"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","file":"ckanvas.min.js","sourceRoot":"/Users/chriskelsey/Sites/ck/ckanvas"}